<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panduan Deployment SimpleAkunting V4</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0f1419;
            --surface-dark: #1a1f2e;
            --surface-highlight: #252b3d;
            --border-dark: #2d3548;
            --primary: #6366f1;
            --primary-light: #818cf8;
            --text-white: #ffffff;
            --text-muted: #94a3b8;
            --emerald: #10b981;
            --blue: #3b82f6;
            --purple: #a855f7;
            --amber: #f59e0b;
            --red: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-dark);
            color: var(--text-white);
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem;
        }

        header {
            background: linear-gradient(135deg, #1e3a5f, #0f766e);
            padding: 3rem 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        header p {
            color: rgba(255,255,255,0.8);
            font-size: 1.1rem;
        }

        .toc {
            background: var(--surface-dark);
            border: 1px solid var(--border-dark);
            border-radius: 1rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .toc h2 {
            color: var(--primary);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
        }

        .toc ul {
            list-style: none;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 0.5rem;
        }

        .toc a {
            color: var(--text-muted);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            display: block;
            transition: all 0.2s;
        }

        .toc a:hover {
            background: var(--surface-highlight);
            color: var(--text-white);
        }

        section {
            background: var(--surface-dark);
            border: 1px solid var(--border-dark);
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        section h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-dark);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        section h3 {
            font-size: 1.25rem;
            margin: 1.5rem 0 1rem;
            color: var(--primary-light);
        }

        section h4 {
            font-size: 1rem;
            margin: 1rem 0 0.5rem;
            color: var(--emerald);
        }

        p {
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        ul, ol {
            color: var(--text-muted);
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }

        li {
            margin-bottom: 0.5rem;
        }

        strong {
            color: var(--text-white);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border-dark);
        }

        th {
            background: var(--surface-highlight);
            font-weight: 600;
        }

        td {
            color: var(--text-muted);
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            background: var(--surface-highlight);
            padding: 0.2rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.9em;
            color: var(--emerald);
        }

        pre {
            background: #0d1117;
            border: 1px solid var(--border-dark);
            border-radius: 0.75rem;
            padding: 1.25rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        pre code {
            background: none;
            padding: 0;
            color: #e6edf3;
            font-size: 0.875rem;
            line-height: 1.5;
        }

        .alert {
            padding: 1rem 1.25rem;
            border-radius: 0.75rem;
            margin: 1rem 0;
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }

        .alert-info {
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.3);
        }

        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }

        .alert-danger {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .card {
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--border-dark);
            border-radius: 0.75rem;
            padding: 1.25rem;
        }

        .card h4 {
            margin-bottom: 0.75rem;
            color: var(--text-white);
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .badge-min { background: #374151; color: #d1d5db; }
        .badge-rec { background: #1e40af; color: #93c5fd; }
        .badge-opt { background: #166534; color: #86efac; }

        .checklist {
            list-style: none;
            margin-left: 0;
        }

        .checklist li {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .checklist li::before {
            content: "‚òê";
            font-size: 1.2rem;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            font-weight: 600;
            font-size: 0.875rem;
            margin-right: 0.75rem;
        }

        footer {
            text-align: center;
            padding: 2rem;
            color: var(--text-muted);
            border-top: 1px solid var(--border-dark);
        }

        @media print {
            body { background: white; color: black; }
            section { break-inside: avoid; border: 1px solid #ccc; }
            pre { background: #f5f5f5; }
            code { background: #e5e5e5; color: #333; }
        }
    </style>
</head>
<body>
    <header>
        <h1>üöÄ Panduan Deployment</h1>
        <p>SimpleAkunting V4 - Konfigurasi Hosting & Server</p>
    </header>

    <div class="container">
        <!-- Table of Contents -->
        <nav class="toc">
            <h2>Daftar Isi</h2>
            <ul>
                <li><a href="#requirements">1. System Requirements</a></li>
                <li><a href="#specs">2. Spesifikasi Hosting</a></li>
                <li><a href="#providers">3. Rekomendasi Provider</a></li>
                <li><a href="#preparation">4. Persiapan Server</a></li>
                <li><a href="#deployment">5. Langkah Deployment</a></li>
                <li><a href="#configuration">6. Konfigurasi Aplikasi</a></li>
                <li><a href="#optimization">7. Optimasi</a></li>
                <li><a href="#maintenance">8. Maintenance</a></li>
                <li><a href="#troubleshooting">9. Troubleshooting</a></li>
            </ul>
        </nav>

        <!-- 1. Requirements -->
        <section id="requirements">
            <h2>üìã 1. System Requirements</h2>
            
            <h3>Software Requirements</h3>
            <table>
                <tr>
                    <th>Software</th>
                    <th>Minimum</th>
                    <th>Recommended</th>
                </tr>
                <tr>
                    <td><strong>PHP</strong></td>
                    <td>8.1</td>
                    <td>8.2 atau 8.3</td>
                </tr>
                <tr>
                    <td><strong>MySQL</strong></td>
                    <td>8.0</td>
                    <td>8.0+ / MariaDB 10.6+</td>
                </tr>
                <tr>
                    <td><strong>Web Server</strong></td>
                    <td>Apache 2.4</td>
                    <td>Nginx 1.18+</td>
                </tr>
                <tr>
                    <td><strong>Composer</strong></td>
                    <td>2.0</td>
                    <td>2.6+</td>
                </tr>
                <tr>
                    <td><strong>Node.js</strong></td>
                    <td>18.x</td>
                    <td>20.x LTS</td>
                </tr>
            </table>

            <h3>PHP Extensions (Wajib)</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>Core Extensions</h4>
                    <ul>
                        <li>BCMath</li>
                        <li>Ctype</li>
                        <li>cURL</li>
                        <li>DOM</li>
                        <li>Fileinfo</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Data & Security</h4>
                    <ul>
                        <li>JSON</li>
                        <li>Mbstring</li>
                        <li>OpenSSL</li>
                        <li>PDO + PDO_MySQL</li>
                        <li>Tokenizer</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>Additional</h4>
                    <ul>
                        <li>XML</li>
                        <li>ZIP</li>
                        <li>GD atau Imagick</li>
                        <li>Redis (opsional)</li>
                    </ul>
                </div>
            </div>

            <h3>php.ini Configuration</h3>
            <pre><code>memory_limit = 256M
max_execution_time = 60
upload_max_filesize = 20M
post_max_size = 25M
max_input_vars = 5000

; OPcache (untuk performa)
opcache.enable = 1
opcache.memory_consumption = 128
opcache.interned_strings_buffer = 8
opcache.max_accelerated_files = 10000
opcache.validate_timestamps = 0
opcache.revalidate_freq = 0</code></pre>
        </section>

        <!-- 2. Specs -->
        <section id="specs">
            <h2>üíª 2. Spesifikasi Hosting</h2>

            <h3><span class="badge badge-min">MINIMUM</span> Entry Level</h3>
            <p><em>Cocok untuk: 1-5 user, 1-3 perusahaan, &lt;10.000 transaksi/bulan</em></p>
            <table>
                <tr><td><strong>CPU</strong></td><td>1 vCPU / 1 Core</td></tr>
                <tr><td><strong>RAM</strong></td><td>1 GB</td></tr>
                <tr><td><strong>Storage</strong></td><td>20 GB SSD</td></tr>
                <tr><td><strong>Bandwidth</strong></td><td>1 TB/bulan</td></tr>
            </table>

            <h3><span class="badge badge-rec">RECOMMENDED</span> Production</h3>
            <p><em>Cocok untuk: 5-20 user, 5-10 perusahaan, 10.000-50.000 transaksi/bulan</em></p>
            <table>
                <tr><td><strong>CPU</strong></td><td>2 vCPU / 2 Core</td></tr>
                <tr><td><strong>RAM</strong></td><td>2-4 GB</td></tr>
                <tr><td><strong>Storage</strong></td><td>40 GB SSD NVMe</td></tr>
                <tr><td><strong>Bandwidth</strong></td><td>2 TB/bulan</td></tr>
                <tr><td><strong>Redis</strong></td><td>Untuk cache (opsional)</td></tr>
            </table>

            <h3><span class="badge badge-opt">OPTIMAL</span> Enterprise</h3>
            <p><em>Cocok untuk: 20+ user, 10+ perusahaan, &gt;50.000 transaksi/bulan</em></p>
            <table>
                <tr><td><strong>CPU</strong></td><td>4+ vCPU</td></tr>
                <tr><td><strong>RAM</strong></td><td>8+ GB</td></tr>
                <tr><td><strong>Storage</strong></td><td>100+ GB SSD NVMe</td></tr>
                <tr><td><strong>Database</strong></td><td>Server MySQL terpisah</td></tr>
                <tr><td><strong>Redis</strong></td><td>Wajib untuk cache, queue, session</td></tr>
                <tr><td><strong>Load Balancer</strong></td><td>Untuk high availability</td></tr>
            </table>
        </section>

        <!-- 3. Providers -->
        <section id="providers">
            <h2>üè¢ 3. Rekomendasi Provider</h2>

            <h3>VPS Indonesia (Latency Rendah)</h3>
            <table>
                <tr>
                    <th>Provider</th>
                    <th>Paket</th>
                    <th>Spec</th>
                    <th>Harga/bulan</th>
                </tr>
                <tr>
                    <td><strong>IDCloudHost</strong></td>
                    <td>VPS-1</td>
                    <td>1 vCPU, 1 GB RAM</td>
                    <td>~Rp 100.000</td>
                </tr>
                <tr>
                    <td><strong>Biznet Gio</strong></td>
                    <td>NEO Lite</td>
                    <td>1 vCPU, 1 GB RAM</td>
                    <td>~Rp 120.000</td>
                </tr>
                <tr>
                    <td><strong>Dewaweb</strong></td>
                    <td>Cloud VPS</td>
                    <td>2 vCPU, 2 GB RAM</td>
                    <td>~Rp 150.000</td>
                </tr>
                <tr>
                    <td><strong>CloudKilat</strong></td>
                    <td>Starter</td>
                    <td>1 vCPU, 1 GB RAM</td>
                    <td>~Rp 90.000</td>
                </tr>
            </table>

            <h3>VPS International (Performa Tinggi)</h3>
            <table>
                <tr>
                    <th>Provider</th>
                    <th>Paket</th>
                    <th>Spec</th>
                    <th>Harga/bulan</th>
                </tr>
                <tr>
                    <td><strong>DigitalOcean</strong></td>
                    <td>Basic Droplet</td>
                    <td>2 vCPU, 2 GB RAM</td>
                    <td>$12 (~Rp 185.000)</td>
                </tr>
                <tr>
                    <td><strong>Vultr</strong></td>
                    <td>Cloud Compute</td>
                    <td>2 vCPU, 2 GB RAM</td>
                    <td>$12 (~Rp 185.000)</td>
                </tr>
                <tr>
                    <td><strong>Linode</strong></td>
                    <td>Nanode</td>
                    <td>1 vCPU, 2 GB RAM</td>
                    <td>$12 (~Rp 185.000)</td>
                </tr>
                <tr>
                    <td><strong>Hetzner</strong></td>
                    <td>CX21</td>
                    <td>2 vCPU, 4 GB RAM</td>
                    <td>‚Ç¨5.30 (~Rp 90.000)</td>
                </tr>
            </table>

            <h3>Server Management Panel</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>üî• Laravel Forge</h4>
                    <p>$12/bulan - Auto-deploy, SSL, monitoring</p>
                </div>
                <div class="card">
                    <h4>‚ö° Ploi.io</h4>
                    <p>$8/bulan - Deploy mudah, multi-server</p>
                </div>
                <div class="card">
                    <h4>‚òÅÔ∏è RunCloud</h4>
                    <p>$8/bulan - Panel intuitif, backup</p>
                </div>
            </div>
        </section>

        <!-- 4. Preparation -->
        <section id="preparation">
            <h2>üîß 4. Persiapan Server</h2>

            <h3>Step 1: Update System</h3>
            <pre><code># Ubuntu/Debian
sudo apt update && sudo apt upgrade -y

# CentOS/RHEL
sudo yum update -y</code></pre>

            <h3>Step 2: Install PHP 8.2</h3>
            <pre><code># Ubuntu 22.04+
sudo apt install php8.2 php8.2-fpm php8.2-mysql php8.2-mbstring \
    php8.2-xml php8.2-curl php8.2-zip php8.2-gd php8.2-bcmath \
    php8.2-redis php8.2-opcache -y</code></pre>

            <h3>Step 3: Install MySQL</h3>
            <pre><code>sudo apt install mysql-server -y
sudo mysql_secure_installation

# Buat database dan user
sudo mysql -u root -p
CREATE DATABASE simpleakunting CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
CREATE USER 'akunting'@'localhost' IDENTIFIED BY 'password_kuat_anda';
GRANT ALL PRIVILEGES ON simpleakunting.* TO 'akunting'@'localhost';
FLUSH PRIVILEGES;
EXIT;</code></pre>

            <h3>Step 4: Install Composer</h3>
            <pre><code>curl -sS https://getcomposer.org/installer | php
sudo mv composer.phar /usr/local/bin/composer
composer --version</code></pre>

            <h3>Step 5: Install Nginx</h3>
            <pre><code>sudo apt install nginx -y
sudo systemctl enable nginx
sudo systemctl start nginx</code></pre>

            <h3>Step 6: Install Node.js (untuk asset compilation)</h3>
            <pre><code>curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt install nodejs -y
node --version
npm --version</code></pre>
        </section>

        <!-- 5. Deployment -->
        <section id="deployment">
            <h2>üöÄ 5. Langkah Deployment</h2>

            <h3><span class="step-number">1</span> Clone Repository</h3>
            <pre><code>cd /var/www
sudo git clone https://github.com/username/simpleakunting-v4.git
cd simpleakunting-v4
sudo chown -R www-data:www-data .
sudo chmod -R 755 .</code></pre>

            <h3><span class="step-number">2</span> Install Dependencies</h3>
            <pre><code># PHP dependencies
composer install --optimize-autoloader --no-dev

# Node dependencies & build assets
npm install
npm run build</code></pre>

            <h3><span class="step-number">3</span> Setup Environment</h3>
            <pre><code>cp .env.example .env
php artisan key:generate

# Edit .env file
nano .env</code></pre>

            <div class="alert alert-warning">
                <span>‚ö†Ô∏è</span>
                <div>
                    <strong>Penting:</strong> Pastikan mengisi konfigurasi berikut di file <code>.env</code>
                </div>
            </div>

            <pre><code>APP_NAME="SimpleAkunting"
APP_ENV=production
APP_DEBUG=false
APP_URL=https://domain-anda.com

DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=simpleakunting
DB_USERNAME=akunting
DB_PASSWORD=password_kuat_anda

CACHE_DRIVER=file
SESSION_DRIVER=file
QUEUE_CONNECTION=database</code></pre>

            <h3><span class="step-number">4</span> Setup Database</h3>
            <pre><code># Jalankan migrasi
php artisan migrate --force

# Seed data awal (opsional untuk fresh install)
php artisan db:seed --force</code></pre>

            <h3><span class="step-number">5</span> Set Permissions</h3>
            <pre><code>sudo chown -R www-data:www-data storage bootstrap/cache
sudo chmod -R 775 storage bootstrap/cache</code></pre>

            <h3><span class="step-number">6</span> Configure Nginx</h3>
            <pre><code>sudo nano /etc/nginx/sites-available/simpleakunting</code></pre>

            <pre><code>server {
    listen 80;
    listen [::]:80;
    server_name domain-anda.com www.domain-anda.com;
    root /var/www/simpleakunting-v4/public;

    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-Content-Type-Options "nosniff";

    index index.php;

    charset utf-8;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location = /favicon.ico { access_log off; log_not_found off; }
    location = /robots.txt  { access_log off; log_not_found off; }

    error_page 404 /index.php;

    location ~ \.php$ {
        fastcgi_pass unix:/var/run/php/php8.2-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $realpath_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location ~ /\.(?!well-known).* {
        deny all;
    }
}</code></pre>

            <pre><code># Enable site
sudo ln -s /etc/nginx/sites-available/simpleakunting /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx</code></pre>

            <h3><span class="step-number">7</span> Install SSL (Let's Encrypt)</h3>
            <pre><code>sudo apt install certbot python3-certbot-nginx -y
sudo certbot --nginx -d domain-anda.com -d www.domain-anda.com</code></pre>
        </section>

        <!-- 6. Configuration -->
        <section id="configuration">
            <h2>‚öôÔ∏è 6. Konfigurasi Aplikasi</h2>

            <h3>Setup Cron Job (Task Scheduler)</h3>
            <pre><code>sudo crontab -e

# Tambahkan baris berikut:
* * * * * cd /var/www/simpleakunting-v4 && php artisan schedule:run >> /dev/null 2>&1</code></pre>

            <h3>Setup Queue Worker (Supervisor)</h3>
            <pre><code>sudo apt install supervisor -y
sudo nano /etc/supervisor/conf.d/simpleakunting-worker.conf</code></pre>

            <pre><code>[program:simpleakunting-worker]
process_name=%(program_name)s_%(process_num)02d
command=php /var/www/simpleakunting-v4/artisan queue:work database --sleep=3 --tries=3 --max-time=3600
autostart=true
autorestart=true
stopasgroup=true
killasgroup=true
user=www-data
numprocs=2
redirect_stderr=true
stdout_logfile=/var/www/simpleakunting-v4/storage/logs/worker.log
stopwaitsecs=3600</code></pre>

            <pre><code>sudo supervisorctl reread
sudo supervisorctl update
sudo supervisorctl start simpleakunting-worker:*</code></pre>

            <h3>Clear & Optimize Cache</h3>
            <pre><code>php artisan config:cache
php artisan route:cache
php artisan view:cache
php artisan event:cache</code></pre>
        </section>

        <!-- 7. Optimization -->
        <section id="optimization">
            <h2>‚ö° 7. Optimasi Performa</h2>

            <h3>Enable OPcache</h3>
            <pre><code>sudo nano /etc/php/8.2/fpm/conf.d/10-opcache.ini

opcache.enable=1
opcache.memory_consumption=256
opcache.interned_strings_buffer=16
opcache.max_accelerated_files=20000
opcache.validate_timestamps=0
opcache.save_comments=1
opcache.fast_shutdown=1</code></pre>

            <h3>Gunakan Redis untuk Cache</h3>
            <pre><code>sudo apt install redis-server -y
sudo systemctl enable redis-server

# Update .env
CACHE_DRIVER=redis
SESSION_DRIVER=redis
QUEUE_CONNECTION=redis</code></pre>

            <h3>Nginx Gzip Compression</h3>
            <pre><code># Di nginx.conf atau server block
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_types text/plain text/css text/xml application/json application/javascript 
           application/rss+xml application/atom+xml image/svg+xml;</code></pre>

            <h3>Database Optimization</h3>
            <pre><code># Optimize tables
php artisan db:optimize

# Atau via MySQL
mysqlcheck -o simpleakunting -u root -p</code></pre>
        </section>

        <!-- 8. Maintenance -->
        <section id="maintenance">
            <h2>üîÑ 8. Maintenance</h2>

            <h3>Update Aplikasi</h3>
            <pre><code># Aktifkan maintenance mode
php artisan down --refresh=15

# Pull update
git pull origin main

# Update dependencies
composer install --optimize-autoloader --no-dev

# Jalankan migrasi
php artisan migrate --force

# Clear cache
php artisan config:cache
php artisan route:cache
php artisan view:cache

# Restart queue worker
sudo supervisorctl restart simpleakunting-worker:*

# Nonaktifkan maintenance mode
php artisan up</code></pre>

            <h3>Backup Database</h3>
            <pre><code># Manual backup
mysqldump -u root -p simpleakunting > backup_$(date +%Y%m%d).sql

# Automated backup (cron)
0 2 * * * mysqldump -u root -pPASSWORD simpleakunting > /backups/akunting_$(date +\%Y\%m\%d).sql</code></pre>

            <h3>Backup Files</h3>
            <pre><code># Backup storage folder
tar -czvf storage_backup_$(date +%Y%m%d).tar.gz /var/www/simpleakunting-v4/storage/app</code></pre>

            <h3>Log Rotation</h3>
            <pre><code>sudo nano /etc/logrotate.d/simpleakunting

/var/www/simpleakunting-v4/storage/logs/*.log {
    daily
    missingok
    rotate 14
    compress
    delaycompress
    notifempty
    create 0640 www-data www-data
    sharedscripts
}</code></pre>
        </section>

        <!-- 9. Troubleshooting -->
        <section id="troubleshooting">
            <h2>üîç 9. Troubleshooting</h2>

            <h3>Error 500 - Internal Server Error</h3>
            <div class="alert alert-danger">
                <span>‚ùå</span>
                <div>
                    <strong>Penyebab:</strong> Cache rusak, permission salah, atau error PHP
                </div>
            </div>
            <pre><code># Cek log error
tail -f /var/www/simpleakunting-v4/storage/logs/laravel.log

# Clear semua cache
php artisan cache:clear
php artisan config:clear
php artisan route:clear
php artisan view:clear

# Fix permissions
sudo chown -R www-data:www-data storage bootstrap/cache
sudo chmod -R 775 storage bootstrap/cache</code></pre>

            <h3>Error 403 - Forbidden</h3>
            <pre><code># Cek permission public folder
sudo chmod -R 755 /var/www/simpleakunting-v4/public

# Cek nginx config
sudo nginx -t</code></pre>

            <h3>Database Connection Error</h3>
            <pre><code># Cek MySQL status
sudo systemctl status mysql

# Test koneksi
mysql -u akunting -p -h 127.0.0.1 simpleakunting

# Cek .env configuration
cat .env | grep DB_</code></pre>

            <h3>Queue Not Processing</h3>
            <pre><code># Cek supervisor status
sudo supervisorctl status

# Restart worker
sudo supervisorctl restart simpleakunting-worker:*

# Cek log
tail -f /var/www/simpleakunting-v4/storage/logs/worker.log</code></pre>

            <h3>Memory Exhausted</h3>
            <pre><code># Tambah PHP memory limit
sudo nano /etc/php/8.2/fpm/php.ini
# Set: memory_limit = 512M

sudo systemctl restart php8.2-fpm</code></pre>
        </section>

        <!-- Checklist -->
        <section>
            <h2>‚úÖ Checklist Deployment</h2>
            <ul class="checklist">
                <li>PHP 8.1+ terinstall dengan extensions</li>
                <li>MySQL/MariaDB dengan database dan user</li>
                <li>Nginx/Apache terkonfigurasi</li>
                <li>Composer dependencies terinstall</li>
                <li>Node.js dependencies terinstall dan assets ter-build</li>
                <li>File .env terkonfigurasi dengan benar</li>
                <li>Migrasi database sudah dijalankan</li>
                <li>Permissions storage & bootstrap/cache benar</li>
                <li>SSL Certificate terinstall (HTTPS)</li>
                <li>Cron job untuk scheduler terkonfigurasi</li>
                <li>Queue worker (Supervisor) berjalan</li>
                <li>Cache ter-optimize</li>
                <li>Backup otomatis terkonfigurasi</li>
                <li>Log rotation terkonfigurasi</li>
            </ul>
        </section>
    </div>

    <footer>
        <p><strong>SimpleAkunting V4</strong> - Panduan Deployment</p>
        <p>Terakhir diperbarui: Desember 2024</p>
    </footer>
</body>
</html>
